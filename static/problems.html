// problems.html
// ... (생략) ...

      // 인증 확인
      function checkAuth() {
        const token = localStorage.getItem("access_token");
        const userName = localStorage.getItem("user_name");

        if (!token) {
          console.log("❌ 토큰 없음, 로그인 페이지로 이동");
          window.location.href = "/";
          return false;
        }

        // --- 이 부분을 수정합니다 ---
        const userNameElement = document.getElementById("userName");
        if (userNameElement) { // userNameElement가 null이 아닌지 확인
            userNameElement.textContent = userName || "사용자";
        } else {
            console.warn("⚠️ 'userName' 요소를 찾을 수 없습니다.");
            // 오류가 발생했지만, 앱의 핵심 기능은 아니므로 진행할 수 있도록 합니다.
        }
        // --- 여기까지 수정합니다 ---

        console.log("✅ 토큰 확인됨, Problems 페이지 진행");
        
        return true;
      }

// ... (생략) ...
